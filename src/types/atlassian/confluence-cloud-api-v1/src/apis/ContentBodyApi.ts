/* tslint:disable */
/* eslint-disable */
/**
 * The Confluence Cloud REST API
 * This document describes the REST API and resources provided by Confluence. The REST APIs are for developers who want to integrate Confluence into their application and for administrators who want to script interactions with the Confluence server.Confluence\'s REST APIs provide access to resources (data entities) via URI paths. To use a REST API, your application will make an HTTP request and parse the response. The response format is JSON. Your methods will be the standard HTTP methods like GET, PUT, POST and DELETE. Because the REST API is based on open standards, you can use any web development language to access the API.
 *
 * The version of the OpenAPI document: 1.0.0
 * 
 *
 * NOTE: This class is auto generated by OpenAPI Generator (https://openapi-generator.tech).
 * https://openapi-generator.tech
 * Do not edit the class manually.
 */


import * as runtime from '../runtime';
import type {
  AsyncContentBody,
  AsyncId,
  BulkContentBodyConversionInput,
  ContentBodyCreate,
} from '../models';

export interface AsyncConvertContentBodyRequestRequest {
    to: AsyncConvertContentBodyRequestToEnum;
    body: { [key: string]: any; };
    expand?: Array<string>;
    spaceKeyContext?: string;
    contentIdContext?: string;
    allowCache?: boolean;
    embeddedContentRender?: AsyncConvertContentBodyRequestEmbeddedContentRenderEnum;
}

export interface AsyncConvertContentBodyResponseRequest {
    id: string;
}

export interface BulkAsyncConvertContentBodyRequestRequest {
    body: BulkContentBodyConversionInput;
}

export interface BulkAsyncConvertContentBodyResponseRequest {
    ids: Array<string>;
}

/**
 * 
 */
export class ContentBodyApi extends runtime.BaseAPI {

    /**
     * Converts a content body from one format to another format asynchronously. Returns the asyncId for the asynchronous task.  Supported conversions:  - atlas_doc_format: editor, export_view, storage, styled_view, view - storage: atlas_doc_format, editor, export_view, styled_view, view - editor: storage  No other conversions are supported at the moment. Once a conversion is completed, it will be available for 5 minutes at the result endpoint.  **[Permissions](https://confluence.atlassian.com/x/_AozKw) required**: If request specifies \'contentIdContext\', \'View\' permission for the space, and permission to view the content.
     * Asynchronously convert content body
     */
    async asyncConvertContentBodyRequestRaw(requestParameters: AsyncConvertContentBodyRequestRequest, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<runtime.ApiResponse<AsyncId>> {
        if (requestParameters.to === null || requestParameters.to === undefined) {
            throw new runtime.RequiredError('to','Required parameter requestParameters.to was null or undefined when calling asyncConvertContentBodyRequest.');
        }

        if (requestParameters.body === null || requestParameters.body === undefined) {
            throw new runtime.RequiredError('body','Required parameter requestParameters.body was null or undefined when calling asyncConvertContentBodyRequest.');
        }

        const queryParameters: any = {};

        if (requestParameters.expand) {
            queryParameters['expand'] = requestParameters.expand.join(runtime.COLLECTION_FORMATS["csv"]);
        }

        if (requestParameters.spaceKeyContext !== undefined) {
            queryParameters['spaceKeyContext'] = requestParameters.spaceKeyContext;
        }

        if (requestParameters.contentIdContext !== undefined) {
            queryParameters['contentIdContext'] = requestParameters.contentIdContext;
        }

        if (requestParameters.allowCache !== undefined) {
            queryParameters['allowCache'] = requestParameters.allowCache;
        }

        if (requestParameters.embeddedContentRender !== undefined) {
            queryParameters['embeddedContentRender'] = requestParameters.embeddedContentRender;
        }

        const headerParameters: runtime.HTTPHeaders = {};

        headerParameters['Content-Type'] = 'application/json';

        if (this.configuration && (this.configuration.username !== undefined || this.configuration.password !== undefined)) {
            headerParameters["Authorization"] = "Basic " + btoa(this.configuration.username + ":" + this.configuration.password);
        }
        if (this.configuration && this.configuration.accessToken) {
            // oauth required
            headerParameters["Authorization"] = await this.configuration.accessToken("oAuthDefinitions", ["read:confluence-content.all"]);
        }

        const response = await this.request({
            path: `/wiki/rest/api/contentbody/convert/async/{to}`.replace(`{${"to"}}`, encodeURIComponent(String(requestParameters.to))),
            method: 'POST',
            headers: headerParameters,
            query: queryParameters,
            body: requestParameters.body,
        }, initOverrides);

        return new runtime.JSONApiResponse(response);
    }

    /**
     * Converts a content body from one format to another format asynchronously. Returns the asyncId for the asynchronous task.  Supported conversions:  - atlas_doc_format: editor, export_view, storage, styled_view, view - storage: atlas_doc_format, editor, export_view, styled_view, view - editor: storage  No other conversions are supported at the moment. Once a conversion is completed, it will be available for 5 minutes at the result endpoint.  **[Permissions](https://confluence.atlassian.com/x/_AozKw) required**: If request specifies \'contentIdContext\', \'View\' permission for the space, and permission to view the content.
     * Asynchronously convert content body
     */
    async asyncConvertContentBodyRequest(requestParameters: AsyncConvertContentBodyRequestRequest, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<AsyncId> {
        const response = await this.asyncConvertContentBodyRequestRaw(requestParameters, initOverrides);
        return await response.value();
    }

    /**
     * Returns the asynchronous content body for the corresponding id if the task is complete  or returns the status of the task.  After the task is completed, the result can be obtained for 5 minutes, or until an identical conversion request is made again, with allowCache query param set to false.  **[Permissions](https://confluence.atlassian.com/x/_AozKw) required**: If request specifies \'contentIdContext\', \'View\' permission for the space, and permission to view the content.
     * Get asynchronously converted content body from the id or the current status of the task.
     */
    async asyncConvertContentBodyResponseRaw(requestParameters: AsyncConvertContentBodyResponseRequest, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<runtime.ApiResponse<AsyncContentBody>> {
        if (requestParameters.id === null || requestParameters.id === undefined) {
            throw new runtime.RequiredError('id','Required parameter requestParameters.id was null or undefined when calling asyncConvertContentBodyResponse.');
        }

        const queryParameters: any = {};

        const headerParameters: runtime.HTTPHeaders = {};

        if (this.configuration && (this.configuration.username !== undefined || this.configuration.password !== undefined)) {
            headerParameters["Authorization"] = "Basic " + btoa(this.configuration.username + ":" + this.configuration.password);
        }
        if (this.configuration && this.configuration.accessToken) {
            // oauth required
            headerParameters["Authorization"] = await this.configuration.accessToken("oAuthDefinitions", ["read:confluence-content.all"]);
        }

        const response = await this.request({
            path: `/wiki/rest/api/contentbody/convert/async/{id}`.replace(`{${"id"}}`, encodeURIComponent(String(requestParameters.id))),
            method: 'GET',
            headers: headerParameters,
            query: queryParameters,
        }, initOverrides);

        return new runtime.JSONApiResponse(response);
    }

    /**
     * Returns the asynchronous content body for the corresponding id if the task is complete  or returns the status of the task.  After the task is completed, the result can be obtained for 5 minutes, or until an identical conversion request is made again, with allowCache query param set to false.  **[Permissions](https://confluence.atlassian.com/x/_AozKw) required**: If request specifies \'contentIdContext\', \'View\' permission for the space, and permission to view the content.
     * Get asynchronously converted content body from the id or the current status of the task.
     */
    async asyncConvertContentBodyResponse(requestParameters: AsyncConvertContentBodyResponseRequest, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<AsyncContentBody> {
        const response = await this.asyncConvertContentBodyResponseRaw(requestParameters, initOverrides);
        return await response.value();
    }

    /**
     * Asynchronously converts content bodies from one format to another format in bulk. Use the Content body REST API to get the status of conversion tasks. Note that there is a maximum limit of 10 conversions per request to this endpoint.  Supported conversions:  - storage: editor, export_view, styled_view, view - editor: storage  Once a conversion task is completed, it is available for polling for up to 5 minutes.  **[Permissions](https://confluence.atlassian.com/x/_AozKw) required**: \'View\' permission for the space, and permission to view the content if the `spaceKeyContext` or `contentIdContext` are present.
     * Create asynchronous content body conversion tasks in bulk
     */
    async bulkAsyncConvertContentBodyRequestRaw(requestParameters: BulkAsyncConvertContentBodyRequestRequest, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<runtime.ApiResponse<Array<AsyncId>>> {
        if (requestParameters.body === null || requestParameters.body === undefined) {
            throw new runtime.RequiredError('body','Required parameter requestParameters.body was null or undefined when calling bulkAsyncConvertContentBodyRequest.');
        }

        const queryParameters: any = {};

        const headerParameters: runtime.HTTPHeaders = {};

        headerParameters['Content-Type'] = 'application/json';

        if (this.configuration && (this.configuration.username !== undefined || this.configuration.password !== undefined)) {
            headerParameters["Authorization"] = "Basic " + btoa(this.configuration.username + ":" + this.configuration.password);
        }
        if (this.configuration && this.configuration.accessToken) {
            // oauth required
            headerParameters["Authorization"] = await this.configuration.accessToken("oAuthDefinitions", ["read:confluence-content.all"]);
        }

        const response = await this.request({
            path: `/wiki/rest/api/contentbody/convert/async/bulk/tasks`,
            method: 'POST',
            headers: headerParameters,
            query: queryParameters,
            body: requestParameters.body,
        }, initOverrides);

        return new runtime.JSONApiResponse(response);
    }

    /**
     * Asynchronously converts content bodies from one format to another format in bulk. Use the Content body REST API to get the status of conversion tasks. Note that there is a maximum limit of 10 conversions per request to this endpoint.  Supported conversions:  - storage: editor, export_view, styled_view, view - editor: storage  Once a conversion task is completed, it is available for polling for up to 5 minutes.  **[Permissions](https://confluence.atlassian.com/x/_AozKw) required**: \'View\' permission for the space, and permission to view the content if the `spaceKeyContext` or `contentIdContext` are present.
     * Create asynchronous content body conversion tasks in bulk
     */
    async bulkAsyncConvertContentBodyRequest(requestParameters: BulkAsyncConvertContentBodyRequestRequest, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<Array<AsyncId>> {
        const response = await this.bulkAsyncConvertContentBodyRequestRaw(requestParameters, initOverrides);
        return await response.value();
    }

    /**
     * Returns the content body for the corresponding `asyncId` of a completed conversion task. If the task is not completed, the task status is returned instead.  Once a conversion task is completed, the result can be obtained for up to 5 minutes, or until an identical conversion request is made again with the `allowCache` parameter set to false.  Note that there is a maximum limit of 50 task results per request to this endpoint.  **[Permissions](https://confluence.atlassian.com/x/_AozKw) required**: Permission to access the Confluence site (\'Can use\' global permission).
     * Get asynchronous content body conversion task result in bulk
     */
    async bulkAsyncConvertContentBodyResponseRaw(requestParameters: BulkAsyncConvertContentBodyResponseRequest, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<runtime.ApiResponse<Array<AsyncContentBody>>> {
        if (requestParameters.ids === null || requestParameters.ids === undefined) {
            throw new runtime.RequiredError('ids','Required parameter requestParameters.ids was null or undefined when calling bulkAsyncConvertContentBodyResponse.');
        }

        const queryParameters: any = {};

        if (requestParameters.ids) {
            queryParameters['ids'] = requestParameters.ids;
        }

        const headerParameters: runtime.HTTPHeaders = {};

        if (this.configuration && (this.configuration.username !== undefined || this.configuration.password !== undefined)) {
            headerParameters["Authorization"] = "Basic " + btoa(this.configuration.username + ":" + this.configuration.password);
        }
        if (this.configuration && this.configuration.accessToken) {
            // oauth required
            headerParameters["Authorization"] = await this.configuration.accessToken("oAuthDefinitions", ["read:confluence-content.all"]);
        }

        const response = await this.request({
            path: `/wiki/rest/api/contentbody/convert/async/bulk/tasks`,
            method: 'GET',
            headers: headerParameters,
            query: queryParameters,
        }, initOverrides);

        return new runtime.JSONApiResponse(response);
    }

    /**
     * Returns the content body for the corresponding `asyncId` of a completed conversion task. If the task is not completed, the task status is returned instead.  Once a conversion task is completed, the result can be obtained for up to 5 minutes, or until an identical conversion request is made again with the `allowCache` parameter set to false.  Note that there is a maximum limit of 50 task results per request to this endpoint.  **[Permissions](https://confluence.atlassian.com/x/_AozKw) required**: Permission to access the Confluence site (\'Can use\' global permission).
     * Get asynchronous content body conversion task result in bulk
     */
    async bulkAsyncConvertContentBodyResponse(requestParameters: BulkAsyncConvertContentBodyResponseRequest, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<Array<AsyncContentBody>> {
        const response = await this.bulkAsyncConvertContentBodyResponseRaw(requestParameters, initOverrides);
        return await response.value();
    }

}

/**
 * @export
 */
export const AsyncConvertContentBodyRequestToEnum = {
    ExportView: 'export_view'
} as const;
export type AsyncConvertContentBodyRequestToEnum = typeof AsyncConvertContentBodyRequestToEnum[keyof typeof AsyncConvertContentBodyRequestToEnum];
/**
 * @export
 */
export const AsyncConvertContentBodyRequestEmbeddedContentRenderEnum = {
    Current: 'current',
    VersionAtSave: 'version-at-save'
} as const;
export type AsyncConvertContentBodyRequestEmbeddedContentRenderEnum = typeof AsyncConvertContentBodyRequestEmbeddedContentRenderEnum[keyof typeof AsyncConvertContentBodyRequestEmbeddedContentRenderEnum];
